let shipping=document.querySelector(".formasEnvio"),op1=document.querySelector(".opCorreo"),op2=document.querySelector(".opAcordarEnvio"),op3=document.querySelector(".opPuntoEntrega"),opEnvioCorreo=document.querySelector(".opEnvioCorreo"),cpForm=document.querySelector(".cpForm"),btnEnvio=document.querySelector(".btnEnvio"),envioCorreo=document.querySelector(".envioCorreo"),envioDatosDestinatario=document.querySelector(".envioDatosDestinatario"),datosEnvio=document.querySelector(".datosEnvio"),datosRetiro=document.querySelector(".datosRetiro"),envioLi=document.querySelector(".envioLi"),envioPrice=document.querySelector(".envioPrice"),divBtnStep1=document.querySelector(".divBtnStep1");const nextStep1=document.querySelector(".nextStep1");let secondStep=document.querySelector(".secondStep"),firstStep=document.querySelector(".firstStep"),btnPrevStep=document.querySelector(".btnPrevStep");const prevStep1=document.querySelector(".prevStep1");shipping.addEventListener("change",shippingMode);let bcEntrega=document.querySelector(".bcEntrega"),bcPago=document.querySelector(".bcPago"),bcPreview=document.querySelector(".bcPreview"),paymentDiscount=document.querySelector(".paymentDiscount");function shippingMode(e){document.querySelectorAll(".opEnvio input").forEach((t=>{switch(e.target.value){case"Correo":op1.classList.remove("nonChecked"),op2.classList.add("nonChecked"),op3.classList.add("nonChecked"),op1.classList.add("checkedRadio"),op2.classList.remove("checkedRadio"),op3.classList.remove("checkedRadio"),opEnvioCorreo.classList.remove("displayNone"),cpForm.classList.remove("displayNone"),envioDatosDestinatario.classList.add("displayNone"),datosEnvio.classList.add("displayNone"),datosRetiro.classList.add("displayNone");break;case"Acordar envío":op1.classList.add("nonChecked"),op2.classList.remove("nonChecked"),op3.classList.add("nonChecked"),op1.classList.remove("checkedRadio"),op2.classList.add("checkedRadio"),op3.classList.remove("checkedRadio"),opEnvioCorreo.classList.remove("displayNone"),document.querySelector(".datosDestinatario").classList.add("displayNone"),envioDatosDestinatario.classList.remove("displayNone"),datosEnvio.classList.remove("displayNone"),envioLi.classList.add("displayNone"),envioPrice.innerHTML=0,cartSum(),uncheckEnvio(),cpForm.classList.add("displayNone"),envioCorreo.classList.add("displayNone"),datosRetiro.classList.add("displayNone"),divBtnStep1.classList.remove("displayNone");break;case"Punto de entrega":op1.classList.add("nonChecked"),op2.classList.add("nonChecked"),op3.classList.remove("nonChecked"),op1.classList.remove("checkedRadio"),op2.classList.remove("checkedRadio"),op3.classList.add("checkedRadio"),opEnvioCorreo.classList.remove("displayNone"),envioCorreo.classList.add("displayNone"),datosRetiro.classList.remove("displayNone"),envioPrice.innerHTML=0,envioLi.classList.add("displayNone"),cartSum(),uncheckEnvio(),cpForm.classList.add("displayNone"),envioCorreo.classList.add("dispalyNone"),envioDatosDestinatario.classList.add("displayNone"),datosEnvio.classList.add("displayNone"),divBtnStep1.classList.remove("displayNone")}}))}function cartSum(){let e=document.querySelectorAll(".itemPrice"),t=0;e.forEach((e=>{let o=parseFloat(e.innerHTML);t+=o})),document.querySelector(".cartTotal").innerText=t}function uncheckEnvio(e){document.querySelectorAll(".tipoEnvioCorreo input").forEach((e=>{e.checked=!1}))}btnEnvio.addEventListener("click",(e=>{e.preventDefault(),envioCorreo.classList.remove("displayNone"),divBtnStep1.classList.remove("displayNone")})),document.querySelector(".tipoEnvioCorreo").addEventListener("change",(()=>{let e=document.querySelector(".envioDomicilio");envioDatosDestinatario.classList.remove("displayNone"),datosEnvio.classList.remove("displayNone"),e.checked,document.querySelectorAll(".correoOption input").forEach((e=>{if(e.checked){document.querySelector(".rDireccionSucursal");switch(e.value){case"Retiro en sucursal":document.querySelector(".datosDestinatario").classList.add("displayNone");break;case"Envío a domicilio":document.querySelector(".datosDestinatario").classList.remove("displayNone")}}}))})),document.querySelector(".tipoEnvioCorreo").addEventListener("change",(()=>{document.querySelectorAll(".tipoEnvioCorreo input").forEach((e=>{if(e.checked){e.parentNode.classList.add("pukki"),envioLi.classList.remove("displayNone");let t=document.querySelector(".pukki .costoEnvio"),o=document.querySelector(".envioPrice");o.innerHTML=0,o.innerHTML=t.innerHTML,cartSum()}else{e.parentNode.classList.remove("pukki")}}))})),cartSum();let nombreDestinatario=document.querySelector("#nombreDestinatario"),apellidoDestinatario=document.querySelector("#apellidoDestinatario"),dniDestinatario=document.querySelector("#dniDestinatario"),telDestinatario=document.querySelector("#telDestinatario");function removeAlerts(){let e=document.querySelectorAll("form input .msgAlert");e&&console.log(e)}function checkCash(){let e=document.querySelector("#opPuntoEntrega"),t=document.querySelector(".opCash");e.checked?(document.querySelector(".pmCash").classList.remove("disabledInput"),t.disabled=!1):(document.querySelector(".pmCash").classList.add("disabledInput"),t.disabled=!0)}nextStep1.addEventListener("click",(()=>{checkCash(),document.querySelectorAll("#formasEnvio ul li input").forEach((e=>{let t=document.querySelector(".methTitle");if(e.checked)switch(e.value){case"Correo":document.querySelectorAll(".correoOption input").forEach((e=>{if(e.checked)switch(e.value){case"Envío a domicilio":validateDireccion(),datosDestinatario(),direccionDestinatario(),validateDatosNext2(),t.innerText="Datos de envío";break;case"Retiro en sucursal":validateDatosEnvio(),datosDestinatario(),cleanPreview(),validateDatosNext1(),t="Datos de quien retira"}}));case"Acordar envío":validateDatosEnvio(),datosDestinatario(),validateDatosNext1(),cleanPreview(),t="Datos de quien retira";break;case"Punto de entrega":validateDatosRetiro(),validateDatosNext3(),datospRetiro(),cleanPreview(),t="Datos de quien retira"}}))})),document.querySelector(".rememberme-div").addEventListener("change",(e=>{document.querySelector(".rememberme-div input").checked?document.querySelector(".datosFacturacion").classList.add("displayNone"):document.querySelector(".datosFacturacion").classList.remove("displayNone")}));let pm1=document.querySelector(".pmCard"),pm2=document.querySelector(".pmBank"),pm3=document.querySelector(".pmCash"),methodCard=document.querySelector(".methodCard");function paymentMethod(e){let t=document.querySelectorAll(".typePayment input"),o=document.querySelector(".paymentDiscount .porcentaje"),r=document.querySelector(".mPaymenetInfo");t.forEach((t=>{switch(e.target.value){case"Tarjeta de Crédito o Débito":pm1.classList.add("checkedRadio"),pm2.classList.remove("checkedRadio"),pm3.classList.remove("checkedRadio"),pm1.classList.remove("nonChecked"),methodCard.classList.remove("displayNone"),pm2.classList.add("nonChecked"),pm3.classList.add("nonChecked"),o.innerHTML=0,o=0,r.innerHTML=e.target.value;break;case"Transferencia Bancaria":pm1.classList.remove("checkedRadio"),pm2.classList.add("checkedRadio"),pm3.classList.remove("checkedRadio"),pm2.classList.remove("nonChecked"),pm1.classList.add("nonChecked"),pm3.classList.add("nonChecked"),methodCard.classList.add("displayNone");let t=document.querySelector(".pDiscount1");paymentDiscount.classList.remove("displayNone"),o.innerText=t.innerText,r.innerHTML=e.target.value;break;case"Efectivo":pm1.classList.remove("checkedRadio"),pm2.classList.remove("checkedRadio"),pm3.classList.add("checkedRadio"),pm3.classList.remove("nonChecked"),methodCard.classList.add("displayNone"),pm1.classList.add("nonChecked"),pm2.classList.add("nonChecked");let c=document.querySelector(".pDiscount2");paymentDiscount.classList.remove("displayNone"),o.innerText=c.innerText,r.innerHTML=e.target.value}}))}document.querySelector("#pMethod").addEventListener("change",paymentMethod),prevStep1.addEventListener("click",(()=>{firstStep.classList.remove("displayNone"),secondStep.classList.add("displayNone"),bcEntrega.classList.add("bcActive"),bcPago.classList.remove("bcActive"),bcPreview.classList.remove("bcActive")}));let nextStep2=document.querySelector(".nextStep2"),thirdStep=document.querySelector(".thirdStep");nextStep2.addEventListener("click",(e=>{let t=document.querySelectorAll(".typePayment input");window.scrollTo(0,0),bcEntrega.classList.remove("bcActive"),bcPago.classList.remove("bcActive"),bcPreview.classList.add("bcActive"),t.forEach((e=>{if(e.checked)switch(e.value){case"Tarjeta de Crédito o Débito":case"Transferencia Bancaria":case"Efectivo":thirdStep.classList.remove("displayNone"),secondStep.classList.add("displayNone")}}))}));let prevStep2=document.querySelector(".prevStep2");prevStep2.addEventListener("click",(e=>{secondStep.classList.remove("displayNone"),thirdStep.classList.add("displayNone"),bcEntrega.classList.remove("bcActive"),bcPago.classList.add("bcActive"),bcPreview.classList.remove("bcActive")}));let nextStep3=document.querySelector(".nextStep3");nextStep3.addEventListener("click",(e=>{document.querySelector(".purchaseConfirmation").classList.remove("displayNone"),document.querySelector(".pMain").classList.add("displayNone"),document.querySelector(".pSideBar").classList.add("displayNone"),document.querySelector(".breadcrumbForm").classList.add("displayNone"),thirdStep.classList.add("displayNone"),document.querySelectorAll(".typePayment input").forEach((e=>{if(e.checked)switch(window.scrollTo(0,0),e.value){case"Tarjeta de Crédito o Débito":document.querySelector(".alertCard").classList.remove("displayNone"),setTimeout((function(){document.querySelector(".alertCard .alert1 .imgPurchase").classList.remove("hiddenScaleGrow"),document.querySelector(".alertCard .alert2 .imgPurchase").classList.remove("hiddenScaleGrow")}),50),setTimeout((function(){document.querySelector(".alertCard .alert1 .alertTitle").classList.remove("hiddenOpacity"),document.querySelector(".alertCard .alert1 .alertP").classList.remove("hiddenOpacity"),document.querySelector(".alertCard .alert2 .alertTitle").classList.remove("hiddenOpacity"),document.querySelector(".alertCard .alert2 .alertP").classList.remove("hiddenOpacity")}),80);break;case"Transferencia Bancaria":document.querySelector(".alertBankTrasnfer").classList.remove("displayNone"),setTimeout((function(){document.querySelector(".alertBankTrasnfer .imgPurchase").classList.remove("hiddenScaleGrow")}),50),setTimeout((function(){document.querySelector(".alertBankTrasnfer .alertTitle").classList.remove("hiddenOpacity"),document.querySelector(".alertBankTrasnfer .alertP").classList.remove("hiddenOpacity")}),80);break;case"Efectivo":document.querySelector(".alertCash").classList.remove("displayNone"),setTimeout((function(){document.querySelector(".alertCash .imgPurchase").classList.remove("hiddenScaleGrow")}),50),setTimeout((function(){document.querySelector(".alertCash .alertTitle").classList.remove("hiddenOpacity"),document.querySelector(".alertCash .alertP").classList.remove("hiddenOpacity")}),80)}}))}));let prevStep3=document.querySelector(".prevStep3");function datosDestinatario(){let e=document.querySelector("#nombreDestinatario"),t=document.querySelector("#apellidoDestinatario"),o=document.querySelector("#dniDestinatario"),r=document.querySelector("#telDestinatario");document.querySelector(".rNombre").innerText=e.value+" "+t.value,document.querySelector(".rDocumento").innerText=`DNI ${o.value}`,document.querySelector(".rTelefono").innerText=`Teléfono ${r.value}`}function direccionDestinatario(){let e,t=document.querySelector("#direccionCalle"),o=document.querySelector("#direccionNumero"),r=document.querySelector("#pisoDestinatario"),c=document.querySelector("#dptoDestinatario"),a=document.querySelector("#ciudadDestinatario"),i=document.querySelector(".provinciaDestinatario .selected");document.querySelector(".direccionTitle").innerText="Dirección de entrega",e=`${t.value} ${o.value}`,r.value.length>0&&(e+=" Piso "+r.value),c.value.length>0&&(e+=" "+c.value),e+=`, ${a.value}, ${i.innerText}`,document.querySelector(".rDireccion").innerText=e,console.log(e)}function datospRetiro(){let e=document.querySelector("#nombreRetiro"),t=document.querySelector("#apellidoRetiro"),o=document.querySelector("#dniRetiro"),r=document.querySelector("#telRetiro");document.querySelector(".rNombre").innerText=e.value+" "+t.value,document.querySelector(".rDocumento").innerText=`DNI ${o.value}`,document.querySelector(".rTelefono").innerText=`Teléfono ${r.value}`}function cleanPreview(){document.querySelector(".rDireccion").innerText="",document.querySelector("#nombreRetiro").innerText="",document.querySelector("#apellidoRetiro").innerText="",document.querySelector("#dniRetiro").innerText="",document.querySelector("#telRetiro").innerText="",document.querySelector(".rDireccionSucursal").innerText="",document.querySelector(".mPaymenetInfo").innerText="",document.querySelector(".direccionTitle").innerText=""}function validateDatosEnvio(){let e=document.querySelectorAll("#datosEnvio input");e.forEach((e=>{let t=document.querySelectorAll("#datosEnvio .msgAlert");t?t.forEach((e=>{e.remove()})):console.log("nop")})),e.forEach((e=>{if(e.hasAttribute("required"))if(e.value.length>0);else{let t=document.createElement("p");t.classList.add("msgAlert"),t.innerText="*Requerido",e.parentElement.appendChild(t)}}))}function validateDatosNext1(){nombreDestinatario.value.length>0&&apellidoDestinatario.value.length>0&&dniDestinatario.value.length>0&&telDestinatario.value.length>0&&(firstStep.classList.add("displayNone"),secondStep.classList.remove("displayNone"),bcEntrega.classList.remove("bcActive"),bcPago.classList.add("bcActive"),bcPreview.classList.remove("bcActive"),window.scrollTo(0,0))}function validateDireccion(){validateDatosEnvio();let e=document.querySelectorAll("#direccionDestinatario input");e.forEach((e=>{let t=document.querySelectorAll("#direccionDestinatario .msgAlert");t?t.forEach((e=>{e.remove()})):console.log("nop")})),e.forEach((e=>{if(e.hasAttribute("required")){if(e.value.length>0)return;{let t=document.createElement("p");t.classList.add("msgAlert"),t.innerText="*Requerido",e.parentElement.appendChild(t)}}}))}function validateDatosNext2(){let e=document.querySelector("#direccionCalle"),t=document.querySelector("#direccionNumero"),o=document.querySelector("#ciudadDestinatario");nombreDestinatario.value.length>0&&apellidoDestinatario.value.length>0&&dniDestinatario.value.length>0&&telDestinatario.value.length>0&&e.value.length>0&&t.value.length>0&&o.value.length>0&&(firstStep.classList.add("displayNone"),secondStep.classList.remove("displayNone"),bcEntrega.classList.remove("bcActive"),bcPago.classList.add("bcActive"),bcPreview.classList.remove("bcActive"),window.scrollTo(0,0))}function validateDatosRetiro(){let e=document.querySelectorAll("#datosRetiro input");e.forEach((e=>{let t=document.querySelectorAll("#datosRetiro .msgAlert");t?t.forEach((e=>{e.remove()})):console.log("nop")})),e.forEach((e=>{if(e.hasAttribute("required"))if(e.value.length>0)console.log("has something");else{let t=document.createElement("p");t.classList.add("msgAlert"),t.innerText="*Requerido",e.parentElement.appendChild(t)}}))}function validateDatosNext3(){let e=document.querySelector("#nombreRetiro"),t=document.querySelector("#apellidoRetiro"),o=document.querySelector("#dniRetiro"),r=document.querySelector("#telRetiro");e.value.length>0&&t.value.length>0&&o.value.length>0&&r.value.length>0&&(firstStep.classList.add("displayNone"),secondStep.classList.remove("displayNone"),bcEntrega.classList.remove("bcActive"),bcPago.classList.add("bcActive"),bcPreview.classList.remove("bcActive"),window.scrollTo(0,0))}prevStep3.addEventListener("click",(()=>{document.querySelector(".purchaseConfirmation").classList.add("displayNone"),document.querySelector(".pMain").classList.remove("displayNone"),document.querySelector(".pSideBar").classList.remove("displayNone"),document.querySelector(".breadcrumbForm").classList.remove("displayNone"),thirdStep.classList.remove("displayNone"),bcEntrega.classList.remove("bcActive"),bcPago.classList.remove("bcActive"),bcPreview.classList.add("bcActive"),document.querySelector(".alertCard").classList.add("displayNone"),document.querySelector(".alertCard .alert1 .imgPurchase").classList.add("hiddenScaleGrow"),document.querySelector(".alertCard .alert2 .imgPurchase").classList.add("hiddenScaleGrow"),document.querySelector(".alertCard .alert1 .alertTitle").classList.add("hiddenOpacity"),document.querySelector(".alertCard .alert1 .alertP").classList.add("hiddenOpacity"),document.querySelector(".alertCard .alert2 .alertTitle").classList.add("hiddenOpacity"),document.querySelector(".alertCard .alert2 .alertP").classList.add("hiddenOpacity"),document.querySelector(".alertBankTrasnfer").classList.add("displayNone"),document.querySelector(".alertBankTrasnfer .imgPurchase").classList.add("hiddenScaleGrow"),document.querySelector(".alertBankTrasnfer .alertTitle").classList.add("hiddenOpacity"),document.querySelector(".alertP").classList.add("hiddenOpacity"),document.querySelector(".alertCash").classList.add("displayNone"),document.querySelector(".alertCash .imgPurchase").classList.add("hiddenScaleGrow"),document.querySelector(".alertCash .alertTitle").classList.add("hiddenOpacity"),document.querySelector(".alertP").classList.add("hiddenOpacity")})),nextStep1.addEventListener("click",(()=>{document.querySelectorAll(".formasEnvio input").forEach((e=>{let t=document.querySelector(".mShippingInfo");if(e.checked&&(t.innerText=e.value,"Correo"==e.value)){document.querySelectorAll(".correoOption input").forEach((e=>{if(e.checked){let t=document.querySelector(".rDireccionSucursal");switch(e.value){case"Retiro en sucursal":t.classList.remove("displayNone");let e=document.querySelector(".pukki .localidadEnvio"),o=document.querySelector(".pukki .direccionSucursal");t.innerText=`${e.innerText} - ${o.innerText}`;break;case"Envío a domicilio":t.classList.remove("displayNone")}}}))}}))}));